<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HW6</title>
  <script>
      function bigPicture(event) {
          if(event.target.classList.contains( 'gallery_item' )) {
              mainPic.innerHTML = '';
              var bigPicture = event.target.cloneNode( true );
              bigPicture.classList.remove( 'gallery_item' );
              bigPicture.src = bigPicture.src.replace( 'small', 'big' );

              mainPic.appendChild(bigPicture);
          }

          event.stopPropagation();
      }


      function init() {
          var pictures = ['casio.jpg', 'swiss.jpg', 'rolex.jpg', 'general.jpg'];
          var gallery = document.getElementById('gallery');
          var mainPic = document.getElementById('mainPic');
          var butb = document.getElementById('buttonb');
          var butf = document.getElementById('buttonf');
          
          
          for (var i = 0; i < pictures.length; i++) {
              var img = document.createElement('img');
              img.src = 'small/' + pictures[i];
              img.classList.add('gallery_item');

//            Проверка картинки
              img.onerror = function () {
                  alert('картинка' + ' ' + 'small/' + pictures[2] + ' ' + 'не существует')
              };

              gallery.appendChild(img);
          }
          
          
          gallery.addEventListener('click', bigPicture);

          var current = 1;
          var imgCount = 3;
          var bP = ['casio.jpg', 'swiss.jpg', 'general.jpg'];
          
          bP[0]=new Image();
          bP[1]=new Image();
          bP[2]=new Image();

          bP[0].src='big/casio.jpg';
          bP[1].src='big/swiss.jpg';
          bP[2].src='big/general.jpg';
          
          function back (event) {
              var bigPicture = document.createElement('img');
              bigPicture.classList.add('mainPic');

              if (current < imgCount) {
                  current++;
                  bigPicture.setAttribute(bP[0].src)
                  mainPic.appendChild (bigPicture);
                  
              }
              
              
          };

          butb.addEventListener('click', back);
          

      };


          

          window.onload = init;
      

  </script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrapper">
    <div class="mainPic" id="mainPic"></div>
    <div class="button_box">
      <div class="button" id="buttonb"><img src="big/back.png" alt=""></div>
      <div class="button" id="buttonf"><img src="big/forward.png" alt="" onclick="console.log('fwd')"></div>
    </div>
    <div class="gallery" id="gallery"></div>
  </div>
</body>
</html>